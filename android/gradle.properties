# ===============================================================
#                PROJECT-WIDE GRADLE SETTINGS
# ===============================================================
# This file controls Gradle behavior for the entire Android folder.
# Android Studio settings may override some values.

# ---------------------------------------------------------------
# JVM / MEMORY SETTINGS
# ---------------------------------------------------------------
# Increase memory allocation to avoid GC crashes during builds.
# Default was: -Xmx512m -XX:MaxMetaspaceSize=256m
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=1024m -Dkotlin.daemon.jvm.options=-Xmx2048m

# ---------------------------------------------------------------
# PARALLEL & PERFORMANCE
# ---------------------------------------------------------------
# Uncomment to enable parallel execution for faster builds:
# org.gradle.parallel=true

# Enable AndroidX (Required for all new RN versions)
android.useAndroidX=true

# ---------------------------------------------------------------
# REACT NATIVE ARCHITECTURE CONFIG
# ---------------------------------------------------------------
# Architectures to build for.
# (You can override from CLI: -PreactNativeArchitectures=arm64-v8a)
reactNativeArchitectures=armeabi-v7a,arm64-v8a,x86,x86_64

# Enable New Architecture (TurboModules + Fabric Renderer)
newArchEnabled=true

# Enable Hermes JavaScript engine (recommended)
hermesEnabled=true

# ---------------------------------------------------------------
# **CRITICAL FIX**
# Force NDK 26.1 for React Native 0.80 on Windows.
# NDK 27 causes:
# - Permission denied errors
# - CMake *.o.d file failures
# - react-native-svg build crash
# - react-native-reanimated build crash
# ---------------------------------------------------------------
ANDROID_NDK_VERSION=26.1.10909125

# ---------------------------------------------------------------
# MISC (safe options)
# ---------------------------------------------------------------
# Improve build caching (recommended)
org.gradle.caching=true

# Disable R8 if needed (usually keep ON)
android.enableR8=true
